<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9" lang=""> <![endif]--><!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="description" content="Waarp project" />
<meta name="generator" content="Site Studio 6 (www.effectivestudios.com)" />
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1" />
<meta name="robots" content="index,follow" />
<meta name="keywords" content="bregier, fichier, file, frederic, gateway, goldengate, http, java, libre, moniteur, monitor, open, openr66, route, source, ssh, transfer, transfert, waarp" />
<link rel="stylesheet" href="Waarp.css" type="text/css" />
<style type="text/css">
a {
	color:#0000FF;
	text-decoration:underline;
}
a:visited {
	text-decoration:underline;
}
a:hover {
	text-decoration:underline;
}
a img {
	border:#000000 0px none;
}
</style>
<title>Waarp - R66Authentication</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/magic-bootstrap-min.css">
<!-- special CSS -->
<style type="text/css">
@-moz-document url-prefix() { fieldset { display: table-cell; } }
</style>
<!-- JQuery -->
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script src="js/modernizr-2.8.3-respond-1.4.2.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<link rel="stylesheet" href="Waarp.css" type="text/css" />
<script>
$( document ).ready(function(){
 $.get( "res/waarpmenu.html", function(data) {
 $( "#waarpmenu" ).html(data);
 $("body").removeAttr("class").removeAttr( "style" );
 $("#Comp2_sys_doctext").addClass("panel-body container-fluid");
 var curpage= "r660/r66howto0/r66wiki0/r66auth";
 var splitPages = curpage.split("/");
 $.each( splitPages, function( index, value ){ $("#"+value).addClass("active"); });
  $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function(event) {
   event.preventDefault(); 
   event.stopPropagation(); 
   $(this).parent().siblings().removeClass('open');
   $(this).parent().toggleClass('open');
  });
 });
});
</script>
<style type="text/css">
.dropdown-submenu{position:relative;}
.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;-webkit-border-radius:0 6px 6px 6px;-moz-border-radius:0 6px 6px 6px;border-radius:0 6px 6px 6px;}
.dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:#cccccc;margin-top:5px;margin-right:-10px;}
.dropdown-submenu:hover>a:after{border-left-color:#555;}
.dropdown-submenu.pull-left{float:none;}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;-webkit-border-radius:6px 0 6px 6px;-moz-border-radius:6px 0 6px 6px;border-radius:6px 0 6px 6px;}
.h1 { font-size:14px; color:#333333; font-weight:bold;}
.h2, .h3 { font-size:12pt; color:#333333; font-weight:bold; }
.h4, .h5, .h6 { font-size:13px; color:#333333; font-weight:bold; }
</style>
</head>
<body class="normal" style="font-family:Verdana,sans-serif;font-size:8pt;color:#000000;margin:0px;padding:0px;background-color:#FFFFFF;">
<div id="Comp1_CodeRelayer"><!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<div class="cover" id="waarpmenu" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1693657-4', 'auto');
  ga('send', 'pageview');

</script>
</div>
<div style="text-align:left;margin:0px 4px;">
<h1 class="h1">R66Authentication</h1>
<div id="Comp2_sys_doctext"><p style="text-align:justify;"><span style="font-size:11pt;">The authentication occurs at 4 levels:</span></p>
<blockquote style="margin-right:0px;" dir="ltr">
<p style="text-align:justify;"><strong><span style="font-size:11pt;">a) Host/Key</span></strong></p></blockquote>
<p style="text-align:justify;"><span style="font-size:11pt;">Mandatory, if a server is not known (no host id in the list, wrong key associated), no request will be allowed.</span></p>
<p style="text-align:justify;"><span style="font-size:11pt;">From version 2.4.23, it is possible to block an existing Partner defined, without changing the configuration or deleting its definition, but by just setting the "is blocked" status (see Host web administrator screen).</span></p>
<blockquote style="margin-right:0px;" dir="ltr">
<p style="text-align:justify;"><strong><span style="font-size:11pt;">b) SSL</span></strong></p></blockquote>
<p style="text-align:justify;"><span style="font-size:11pt;">If the SSL mode is used, the trust level of SSL could be managed:</span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">the SSL Server key is validated by the client (SSL default mode) </span></div></li>

<li>
<div style="text-align:justify;"><span style="font-size:11pt;">the SSL Client key could be also validated by the server (trustuseclientauthenticate option, set to False by default, therefore not asking the client to identify itself with its own SSL key).</span></div></li></ul>
<p style="text-align:justify;"><span style="font-size:11pt;">So the SSL allows a simple side or dual sides authentication.</span></p>
<blockquote style="margin-right:0px;" dir="ltr">
<p style="text-align:justify;"><strong><span style="font-size:11pt;">c) IP</span></strong></p></blockquote>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">checkaddress=True means that all IP addresses for Servers will be checked against the real IP on the network connection </span></div></li>

<li>
<div style="text-align:justify;"><span style="font-size:11pt;">checkclientaddress=True means that all IP addresses for Clients will be checked against the real IP on the network connection</span></div></li></ul>
<p style="text-align:justify;"><span style="font-size:11pt;">Those IP are tested to check the consistency between the declaration and the reality.</span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Warning: If a non transparent proxy is present, the IP of source is replaced by the one from the proxy. In this case, the partner should be defined as proxified (see Host web administrator screen).</span></div></li>

<li><div style="text-align:justify;"><span style="font-size:11pt;">Warning: For clients, except if one would like to have a very high level of security, it is in general not recommended to check the IP for the Client in order to have a simple configuration (for instance, one entry for many clients in a group) </span></div></li>

<li>
<div style="text-align:justify;"><span style="font-size:11pt;">Warning: The authentications are stored in the database. Therefore, if several servers share the same database, they will share also those identifications.</span></div></li></ul>
<blockquote style="margin-right:0px;" dir="ltr">
<p style="text-align:justify;"><strong><span style="font-size:11pt;">d) In case of Shared Database</span></strong></p></blockquote>
<p style="text-align:justify;"><span style="font-size:11pt;">As the administrator option will probably be active for all Servers (since this field is necessary for themselved to be their own administrator, in order for instance to be able to shutdown from command line), there is an option that allows to specify a superset of roles locally, through local files, with fine grain role support. This way of doing is highly recommended in the case of database shared among several R66 servers, in order to give more flexibility and still security in the roles.</span></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;">&nbsp;</p>
<h1 class="h1" style="text-align:justify;"><span style="font-size:11pt;">Special configuration</span></h1>
<ul>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;">Special notice for Alias: since aliases are just replaced at the very beginning of the start of any operation, there is no need to have those aliases defined in the Host database table, since they will rely on the real host definition.</span></div></li></ul>
<p style="text-align:justify;">&nbsp;</p>
<ul>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;">Note that it is possible from version 2.4.22 to specify different levels of applicable rights to a user connected to the web administration interface:</span></div><ul>
<li><p style="text-align:justify;"><span style="font-size:11pt;">The default admin user (specified in the XML configuration file) has all rights (super user account)</span></p></li>

<li>
<p style="text-align:justify;"><span style="font-size:11pt;">It is possible to create new user accounts </span></p><ul>
<li>
<p style="text-align:justify;"><span style="font-size:11pt;">Create "dummy" Hosts with a value of PORT &lt; 0 (it will set automatically Address to 0.0.0.0 and isClient to True).</span></p></li>
<li>
<p style="text-align:justify;"><span style="font-size:11pt;">Then, you can specify the roles by either setting isAdmin to True (equivalent to super user account), or by setting the ROLES item to the values decided:</span></p><ul>
<li>
<div style="text-align:justify;"><span style="font-size:11pt; font-family:courier new;">&lt;roles&gt;&lt;role&gt;&lt;roleid&gt;username&lt;/roleid&gt;&lt;roleset&gt;roles to set&lt;/roleset&gt;&lt;/role&gt;&lt;/roles&gt;</span></div></li></ul></li>
</ul></li>
</ul></li>

<li>
<p style="text-align:justify;"><span style="font-size:11pt;">Roles </span><span style="font-size:11pt;">could be:</span></p><ul>
<li><p style="text-align:justify;"><span style="font-size:11pt;"><strong>TRANSFER</strong>: allow to access to CANCEL-RESTART sub menu of TRANSFERS menu</span></p></li>

<li><strong>
<p style="text-align:justify;"><span style="font-size:11pt;"><strong>SYSTEM</strong>: allow to access to EXPORT&nbsp;sub menus of TRANSFERS menu and to all functions of SYSTEM menu</span></p></strong></li>
<li><p style="text-align:justify;"><span style="font-size:11pt;"><strong>CONFIGADMIN</strong>: allow to access to HOSTS and&nbsp;RULES&nbsp;menu</span></p></li>

<li><p style="text-align:justify;"><span style="font-size:11pt;">By default, all other menus are allowed (LISTING and SPOOLED DIRECTORY sub menus of TRANSFERS menu, LOGON and START menus) since they do not act on the server. Note that SYSTEM menu will be limited to showing the current values (not changing them), except the Web interface language (not the server language).</span></p></li>

<li>
<p style="text-align:justify;"><span style="font-size:11pt;">You can combine rights, for instance by setting <span style="font-family:courier new;">&lt;roleset&gt;TRANSFER SYSTEM&lt;/roleset&gt;</span> for the role, or any combination.</span></p></li></ul></li>
</ul>
<p style="text-align:justify;">&nbsp;</p></div>
<p>&nbsp;</p></div>
</body>
</html>
